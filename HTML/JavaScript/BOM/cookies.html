<html>
<head>
<script>
/*
    What are Cookies?

    Cookies are data, stored in small text files, on your computer.
    When a web server has sent a web page to a browser, the connection
    is shutdown, and the server forgets everything about the user.

    Cookies are saved in name-value pairs like:

    username=John Doe

    When a browser requests a web page from a server, cookies belonging
    to the page is added to the request. This way the server gets the
    necessary data to "remember" information about users.

    -   Create a Cookie with Javascript

        JavaScript can create, read, and delete cookies with the document.cookie
        property.

        With JavaScript, a cookie can be created like this:

        document.cookie="username=John Doe"

        You can also add an expiry date (in UTC time). By default, the cookie 
        is deleted when the browser is closed:

        document.cookie="username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC";

        With a path parameter, you can tell the browser what path the cookie
        belongs to. By default, the cookie belongs to the current page.

        document.cookie="username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/";

    -   Read a Cookie with JavaScript

        With Javascript, cookies can be read like this:

        var x = document.cookie;

        Note: document.cookie will return all cookies in one string much like: cookie1=value; cookie2=value; cookie3=value;

    -   Change a Cookie with JavaScript

        With JavaScript, you can change a cookie the same way as you create it:

        document.cookie="username=John Smith; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/";

        The old cookie is overwritten.

    -   Delete a Cookie with JavaScript

        Deleting a cookie is very simple. Just set the expires parameter to a passed date:

        document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC";

    -   The Cookie String

        The document.cookie property looks like a normal text string. But it is not.

        Even if you write a whole cookie string to document.cookie, when you read it out again, you can only see the name-value pair of it.
        
        If you set a new cookie, older cookies are not overwritten. The new cookie is added to document.cookie, so if you read

        document.cookie again you will get something like:

        cookie1=value;cookie2=value;

    -   JavaScript Cookie Example

        In the example to follow, we will create a cookie that stores the name of a visitor. 

        The first time a visitor arrives to the web page, he will be asked to fill in his name. The name is then stored in cookie.
        
        The next time a visitor arrives at the same page, he will get a welcome page.

        For the example we will create 3 JavaScript functions:

        1.  A function to set a cookie value
        2.  A function to get a cookie value
        3.  A function to check a cookie value

        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            var expires = "expires="+d.toUTCString();
            document.cookie = cname + "=" + cvalue + "; " + expires;
        }

        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for(var i=0; i<ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1);
                if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
            }
            return "";
        }

        function checkCookie() {
            var user = getCookie("username");
            if (user != "") {
                alert("Welcome again " + user);
            } else {
                user = prompt("Please enter your name:", "");
                if (user != "" && user != null) {
                    setCookie("username", user, 365);
                }
            }
        }
    
       
*/

function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
}

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
    }
    return "";
}

function checkCookie() {
    var user = getCookie("username");
    if (user != "") {
        alert("Welcome again " + user);
    } else {
        user = prompt("Please enter your name:", "");
        if (user != "" && user != null) {
            setCookie("username", user, 365);
        }
    }
}
</script>
</head>
<body onload="checkCookie()">
</body>
</html>
